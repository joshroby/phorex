<!DOCTYPE html>
<html>

  <head>
    <title>Phorex</title>
    <link rel="stylesheet" href="style.css">
    <script src="data.js"></script>
    <script src="setup.js"></script>
    <script src="pops.js"></script>
    <script src="debug.js"></script>
  </head>

  <body>
    
    <div id="banner">
      <h1 class="banner">Phorex</h1>
      <h3 class="banner">eXplore - eXtend - eXchange - eXalt</h3>
    </div>
    
    <div id="introduction">
      <p>Phorex is a very rough work-in-progress attempting to build a "4X" game in javascript.  It doesn't work yet, but it makes pretty maps.</p>
      <button onclick="testMap.setUp()">Or click this to see the most boring map ever. (Debug Map)</button>
    </div>
    
   <table id="setupTable">
     <tr>
       <td colspan="8"><hr /></td>
     <tr>
      <td class="setupCell" id="setupCellCoords">
        New Map<br />
        <input class="setupSlider" type="range" min="25" max="75" value="50" id="setupCoordsButton" onchange="handlers.setupCoords()" />
      </td>
      
      <td class="setupCell" id="setupCellTectonics">
        Tectonics<br />
        <button class="setupSlider" disabled id="setupTectonicsButton" onclick="handlers.setupTectonics()">Rumble</button>
      </td>
      
      <td class="setupCell" id="setupCellOcean">
        Ocean<br />
        <input class="setupSlider" type="range" min="10" max="19" value="15" step=".5" disabled id="setupOceanButton" onchange="handlers.setupOceans()" />
      </td>
      
      <td class="setupCell" id="setupCellHemisphere">
        Hemisphere<br />
        N <input class="setupSliderHemisphere" type="range" min="1" max="2" id="setupHemisphereButton" disabled onchange="handlers.setupHemisphere()" /> S
      </td>
      
      <td class="setupCell" id="setupCellPrecipitation">
        Precipitation<br />
        <input class="setupSlider" type="range" min="8" max="20" value="12" disabled id="setupPrecipitationButton" onchange="handlers.setupPrecipitation()" />
      </td>
      
      <td class="setupCell" id="setupCellTemperature">
        Temperature<br />
        <input class="setupSlider" type="range" min="0" max="20" value="10" disabled id="setupTemperatureButton" onchange="handlers.setupTemperature()" />
      </td>
      
      <td class="setupCell" id="setupCellBiomes">
        Climate<br />
        <button class="setupSlider" disabled id="setupBiomesButton" onclick="handlers.setupBiomes()">Finalize</button>
      </td>
      
      <td class="setupCell" id="setupCellPopulations">
        Populations<br />
        <button class="setupSlider" disabled id="setupPopulationsButton" onclick="handlers.setupPopulations()">Continue</button>
      </td>
    
   </tr>
   
   <tr><td colspan="8"><hr /></td></tr>
   
   </table>
   
   <div id="worldMapDiv">
     
     <div id="uiWorldMapExpansion">
       <button hidden id="expandWorldMapButton" onclick="handlers.expandWorldMap()">Expand</button>
       <button hidden id="collapseWorldMapButton" onclick="handlers.collapseWorldMap()">Collapse</button>
     </div>
     <h2 class="uiTitle" id="uiTitleMinimap">World Map</h2>
     
     <table id="worldMapTable">
       
     </table>
     
     <div hidden id="worldMapLegendDiv">
       <button onclick="handlers.setLegendToElevation()">Elevation</button>
       <button onclick="handlers.setLegendToPrecipitation()">Precipitation</button>
       <button onclick="handlers.setLegendToTemperature()">Temperature</button>
       <button onclick="handlers.setLegendToPopulation()">Population</button>
     </div>
    
  </div>
    
    <div id="selectPane">
      
      <p>In the <span id="selectPaneBiomeVerbose">UNSET</span> of their homelands, <span id="selectPanePopulationsNumber">UNSET</span> peoples have come together, united by a new vision of a bright future.</p>
      
      <h3>The People</h3>
      <ul id="selectPanePopulationsList">
        <li>One population</li>
        <li>Second population</li>
        <li>Last population</li>
      </ul>
      
      <h3>The Land</h3>
      <ul>
        <li>Biome: <span id="selectPaneBiome">UNSET</span></li>
        <li>Elevation: <span id="selectPaneAltitude">UNSET</span></li>
        <li>Precipitation: <span id="selectPanePrecipitation">UNSET</span></li>
        <li>Temperature: <span id="selectPaneTemperature">UNSET</span></li>
        <li>Natural Bounty: <span id="selectPaneNaturalBounty">UNSET</span></li>
      </ul>
      
      <h3>The Region</h3>
      <ul>
        <li>In the <span id="selectPaneWest">UNSET</span></li>
        <li>In the <span id="selectPaneEast">UNSET</span></li>
        <li>In the <span id="selectPaneNorth">UNSET</span></li>
        <li>In the <span id="selectPaneSouth">UNSET</span></li>
      </ul>
      
      <p>A leader has arisen to lead the people into a bright new age.  They herald a vision of civilization that they promise will protect and feed their people, allowing them to flourish into the bright future.</p>
      
      <button onclick="handlers.selectTile()">I am the vision that guides this new leader!</button><br />
      <button onclick="view.populatePopulationsPane()">Show me another group.</button>
      <button disabled>Oh god let's just make a new map</button>
    </div>

    <div id="uiGuidancePanel" hidden>
    	<table id="uiGuidanceTable"">
    		<tr>
    			<td id="uiGuidancePopUp"></td>
    			<td id="uiGuidanceCenter">
    				<h2>Guidance</h3>
    				<p>Select one of the following options:</p>
						<h3 class="uiGuidanceOption" onclick="view.selectGuidance('uiGuidanceDevelop')">Develop this Tile</h3>
						<h3 class="uiGuidanceOption" onclick="view.selectGuidance('uiGuidanceExperiment')">Conduct an Experiment</h3>
						<h3 class="uiGuidanceOption" onclick="view.selectGuidance('uiGuidanceWorship')">Worship</h3>
						<h3 class="uiGuidanceOption" onclick="view.selectGuidance('uiGuidanceExpedition')">Mount an Expedition</h3>
						<h3 class="uiGuidanceOption" onclick="view.selectGuidance('uiGuidanceSplitMerge')">Manage this Population</h3>
						<h3 class="uiGuidanceOption" onclick="view.selectGuidance('uiGuidanceEquip')">Population Resources</h3>
    			</td>
    			<td id="uiGuidanceRight">
    				<div id="uiGuidanceDevelop" hidden>
    					<h2>Develop the Tile</h2>
    					<p>Any population may prospect in an attempt to discover heretofore unknown natural resources, however each successive discovery is less likely than the last.  Once a population has discovered or learned advances, they can spend resources to build new work sites, civic structures, and places of worship.</p>
    					<button>Prospect!</button>
    					<br />
    					<select>
    						<option>Building One (costs 10 Cowrie)</option>
    						<option>Building Two (costs 10 Stone)</option>
    						<option>Building Three (costs 10 Lumber)</option>
    					</select>
    					<button>Build!</button>
    				</div>
    				<div id="uiGuidanceExperiment" hidden>
    					<h2>Conduct an Experiment</h2>
    					<p>You can guide the population to experiment with some of their resources in the hopes of learning a new advance.</p>
    					<p>This population knows the following advances already: <span id="uiGuidanceKnownAdvances"></span>.</p>
    					<select>
    						<option>Lumber (might learn Forestry)</option>
    						<option>Stone (might learn Construction or Excavation)</option>
    						<option>Cowrie (might learn Finance or Jewelry)</option>
    					</select>
    					<button>Experiment!</button>
    				</div>
    				<div id="uiGuidanceWorship" hidden>
    					<h2>Worship</h2>
    					<p>Populations can enact any rite they know, or you can guide them to sacrifice resources in an attempt to design a new rite.</p>
    					<h3>Enact a Rite</h3>
    					<select>
    						<option>Dance of the Moth</option>
    						<option>Parable of the Swan</option>
    						<option>Song of the Rabbit</option>
    					</select>
    					<button>Enact!</button>
    					
    					<h3></h3>
    					<button>Design a New Rite</button>
    				</div>
    				<div id="uiGuidanceExpedition" hidden>
    					<h2>Mount an Expedition</h2>
    					<p>You can send this population to another tile within its range.  They can go as scouts, as raiders, or as migrants.</p>
    					<p>(Later, you'll click on this map to select a destination.  Don't do that yet.)</p>
    					<table id="minimapTable"></table>
    					<hr />
    					<button>Send as Scouts</button>
    					<button>Send as Raiding Party</button>
    					<button>Send as Migrants</button>
    				</div>
    				<div id="uiGuidanceSplitMerge" hidden>
    					<h2>Manage this Population</h2>
    						<p>Renaming a population costs nothing.  Splitting or merging populations is restricted by the populations' values and demographics.  The less they'd like the split or merge, the more it will cost you.</p>
							<h3>Rename this Population</h3>
							<input type='text' /> <button>Rename</button>
							<h3>Split the Population</h3>
							<select>
								<option>Expel Men</option>
								<option>Expel Heretics</option>
								<option>Expel Low-Status</option>
							</select>
							<h3>Merge this Population with Another</h3>
							<select>
								<option>Other Population</option>
								<option>Other Other Population</option>
								<option>Yet A Different Population</option>
							</select>
    				</div>
    				<div id="uiGuidanceEquip" hidden>
    					<h2>Population Resources</h2>
    						<p>Equipping a population with a certain resource does not cost points and increases the population's loyalty.  Divesting a population of a certain resource <em>does</em> cost points and decreases the population's loyalty.  Populations which have been equipped or divested of resources will still act on their own initiative this season.</p>
    						<h3>Equip this Population</h3>
							<select>
								<option>Simple Tools</option>
								<option>Lumber</option>
								<option>Stone Axes</option>
							</select>
							<button>Equip!</button>
							<h3>Divest this Population</h3>
							<select>
								<option>34 sacks of Food</option>
								<option>12 Simple Tools</option>
								<option>5 stacks of Lumber</option>
							</select>
							<button>Divest!</button>
    				</div>
    			</td>
    			<td id="uiGuidanceClose">
    				<button onclick="view.closeGuidancePanel()">Dismiss</button>
    			</td>
    		</tr>
    	</table>    
    </div>
    
    <div hidden id="uiTileDiv">
      <div class="uiPanel" id="uiPanelPeople">
        <h2 class="uiTitle" id="uiTitlePeople">The People</h2>
        <ul id="uiPeopleList"></ul>
      </div>
      <div class="uiPanel" id="uiPanelLand">
        <h2 class="uiTitle" id="uiTitleLand">The Land</h2>
        <p id="uiLandShort"></p>
        <h3 class="ui">Sites</h3>
        <ul id="uiSitesList"></ul>
        <h3 class="ui">Stockpile</h3>
        <ul id="uiStocksList"></ul>
      </div>
      <div class="uiPanel" id="uiPanelMinimap">
        <h2 class="uiTitle" id="uiTitleDate">The Present</h2>
        <button id="uiNextTurn" onclick="handlers.processTurn()">Next Season</button>
		<hr class="clear" />
        <table id="minimapTable"></table>
      </div>
      <div class="clear"></div>
      <div class="uiPanel" id="uiPanelCivics">
        <h2 class="uiTitle" id="uiTitleCivics">Civics</h2>
      	<p>There is no formal government here.</p>
        <h3 class="ui">Policies</h3>
        <ul class="uiPolicies"></ul>
        <h3 class="ui">Defenses</h3>
        <ul class="uiDefense"></ul>
      </div>
      <div class="uiPanel" id="uiPanelWorship">
        <h2 class="uiTitle" id="uiTitleWorship">Worship</h2>
        <p id="uiOfficalReligion">Worship practices here are entirely disorganized.</p>
        <h3 class="ui">Places of Worship</h3>
        <ul id="uiShrinesList"></ul>
        <h3 class="ui">Local Rites</h3>
        <ul id="uiRitesList"></ul>
      </div>
      <div class="uiPanel" id="uiPanelRelations">
        <h2 class="uiTitle" id="uiTitleRelations">Relations</h2>
        <h3 class="ui">Trade Links</h3>
        <ul id="uiTradeLinksList"></ul>
      </div>
      
    </div>
    
    <hr class="clear" />
    
    <div id="uiTextWall">
      
      <div class="uiPullPanel" id="uiNotifications">
        <h2 class="uiTitle" id="uiTitleNotifications">Notifications
          <button id="uiToggleNotificationsButton" onclick="view.uiToggleNotifications()">Hide</button>
        </h2>
          <div id="uiNotificationsContent">
            <ul id="uiNotificationsList"></ul>
          </div>
        
      </div>
      
      <div class="uiPullPanel"  id="uiHelp">
        <h2 class="uiTitle" id="uiTitleHelp">Help
          <button id="uiToggleHelpButton" onclick="view.uiToggleHelp()">Hide</button>
        </h2>
        <div id="uiHelpContent">
          <p>To make a map, start by selecting a size on the first slider.  That will unlock the next step, which will add tectonic activity.  Click that as many times as you like before adding water to the oceans by adjusting the Ocean slider.  Once you're happy with that, select a hemisphere and fiddle with the climate of your map.</p>
          <p>Clicking the last button will (after a moment) take you to the selection panel where you can pick a group of people to play in the game.</p>
          <p>Once you select a people, you will be taken to their home tile where you can see various details about them and their home.  Mouse over the different populations in the People panel, the sites in the Land panel, and the rites in the Worship panel for more details.  You can click on the "Next Season" button to see what happens to them.</p>
          <p>Eventually, you'll be able to actually, you know, <em>do stuff</em>, but that hasn't been coded yet.</p>
          <p>To start over, just reload the page.</p>
        </div>

      </div>
      
    </div>
    
    <div class="clear"></div>
    
    
  </body>

</html>